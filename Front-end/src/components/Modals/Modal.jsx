import React from "react";
import {
  Modal as _Modal,
  ModalOverlay,
  ModalContent,
  ModalBody,
  ModalCloseButton,
  Button,
  HStack,
  Text,
} from "@chakra-ui/react";
import { useDisclosure } from "@chakra-ui/react";

export const Modal = ({ color, hColor, title, handler, disable, children }) => {
  const { isOpen, onOpen, onClose } = useDisclosure();
  const clickHandler = () => {
    handler();
    onClose();
  };

  return (
    <>
      <Button
        background="transparent"
        isDisabled={disable}
        onClick={onOpen}
        minW="30px"
      >
        {children}
      </Button>

      <_Modal
        isCentered
        closeOnOverlayClick={true}
        isOpen={isOpen}
        onClose={onClose}
      >
        <ModalOverlay />
        <ModalContent h="55vh" w="90%">
          <ModalCloseButton />
          <ModalBody
            pb={6}
            h="100%"
            display="flex"
            alignItems="center"
            justifyContent="center"
            flexDir="column"
          >
            <svg
              width="88"
              height="87"
              viewBox="0 0 88 87"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M47.9217 4.2818C47.9217 3.24167 47.5085 2.24414 46.773 1.50866C46.0375 0.773176 45.04 0.359985 43.9999 0.359985C42.9597 0.359985 41.9622 0.773176 41.2267 1.50866C40.4912 2.24414 40.078 3.24167 40.078 4.2818V20.624C40.078 21.6641 40.4912 22.6617 41.2267 23.3972C41.9622 24.1326 42.9597 24.5458 43.9999 24.5458C45.04 24.5458 46.0375 24.1326 46.773 23.3972C47.5085 22.6617 47.9217 21.6641 47.9217 20.624V4.2818ZM47.9217 66.3759C47.9217 65.3358 47.5085 64.3383 46.773 63.6028C46.0375 62.8673 45.04 62.4541 43.9999 62.4541C42.9597 62.4541 41.9622 62.8673 41.2267 63.6028C40.4912 64.3383 40.078 65.3358 40.078 66.3759V82.7182C40.078 83.7583 40.4912 84.7558 41.2267 85.4913C41.9622 86.2268 42.9597 86.64 43.9999 86.64C45.04 86.64 46.0375 86.2268 46.773 85.4913C47.5085 84.7558 47.9217 83.7583 47.9217 82.7182V66.3759ZM62.9579 43.5C62.9579 42.4599 63.3711 41.4623 64.1066 40.7268C64.8421 39.9914 65.8396 39.5782 66.8797 39.5782H83.218C84.2582 39.5782 85.2557 39.9914 85.9912 40.7268C86.7267 41.4623 87.1399 42.4599 87.1399 43.5C87.1399 44.5401 86.7267 45.5376 85.9912 46.2731C85.2557 47.0086 84.2582 47.4218 83.218 47.4218H66.8797C65.8396 47.4218 64.8421 47.0086 64.1066 46.2731C63.3711 45.5376 62.9579 44.5401 62.9579 43.5ZM4.78168 39.5782C3.74155 39.5782 2.74402 39.9914 2.00854 40.7268C1.27305 41.4623 0.859863 42.4599 0.859863 43.5C0.859863 44.5401 1.27305 45.5376 2.00854 46.2731C2.74402 47.0086 3.74155 47.4218 4.78168 47.4218H21.1239C22.164 47.4218 23.1616 47.0086 23.897 46.2731C24.6325 45.5376 25.0457 44.5401 25.0457 43.5C25.0457 42.4599 24.6325 41.4623 23.897 40.7268C23.1616 39.9914 22.164 39.5782 21.1239 39.5782H4.78168ZM75.045 12.4588C75.7802 13.1942 76.1932 14.1916 76.1932 15.2315C76.1932 16.2714 75.7802 17.2688 75.045 18.0042L63.605 29.4442C63.2404 29.8083 62.8076 30.097 62.3314 30.2939C61.8552 30.4908 61.3448 30.5919 60.8295 30.5915C59.7888 30.5908 58.791 30.1767 58.0557 29.4403C57.6915 29.0756 57.4028 28.6429 57.2059 28.1666C57.0091 27.6904 56.9079 27.1801 56.9083 26.6648C56.909 25.6241 57.3232 24.6263 58.0596 23.8909L69.4995 12.4549C70.235 11.7196 71.2323 11.3066 72.2722 11.3066C73.3122 11.3066 74.3095 11.7236 75.045 12.4588ZM29.9401 63.1052C30.6545 62.3655 31.0498 61.3748 31.0409 60.3465C31.032 59.3183 30.6195 58.3346 29.8924 57.6075C29.1652 56.8803 28.1816 56.4679 27.1533 56.459C26.125 56.45 25.1344 56.8453 24.3947 57.5597L12.9548 68.9918C12.5901 69.3564 12.3009 69.7893 12.1035 70.2657C11.9062 70.7422 11.8046 71.2528 11.8046 71.7684C11.8046 72.2841 11.9062 72.7947 12.1035 73.2712C12.3009 73.7476 12.5901 74.1805 12.9548 74.5451C13.3194 74.9097 13.7523 75.199 14.2287 75.3963C14.7051 75.5937 15.2157 75.6952 15.7314 75.6952C16.2471 75.6952 16.7577 75.5937 17.2341 75.3963C17.7105 75.199 18.1434 74.9097 18.508 74.5451L29.9441 63.1052H29.9401ZM58.0596 57.5597C58.795 56.8245 59.7924 56.4114 60.8323 56.4114C61.8722 56.4114 62.8696 56.8245 63.605 57.5597L75.045 68.9957C75.4094 69.3598 75.6984 69.7922 75.8957 70.268C76.093 70.7439 76.1947 71.2539 76.1949 71.769C76.195 72.2841 76.0938 72.7943 75.8968 73.2702C75.6998 73.7462 75.4111 74.1788 75.0469 74.5431C74.6828 74.9075 74.2505 75.1966 73.7746 75.3939C73.2988 75.5912 72.7888 75.6928 72.2736 75.693C71.7585 75.6932 71.2484 75.5919 70.7724 75.395C70.2964 75.198 69.8639 74.9092 69.4995 74.5451L58.0596 63.1052C57.3244 62.3697 56.9113 61.3724 56.9113 60.3324C56.9113 59.2925 57.3244 58.2952 58.0596 57.5597ZM18.5041 12.4588C18.14 12.0944 17.7077 11.8053 17.2318 11.608C16.756 11.4107 16.2459 11.3091 15.7308 11.3089C14.6905 11.3085 13.6926 11.7215 12.9567 12.4568C12.2208 13.1922 11.8072 14.1898 11.8068 15.2301C11.8065 16.2705 12.2194 17.2684 12.9548 18.0042L24.3947 29.4442C25.1311 30.1796 26.1295 30.5923 27.1702 30.5915C28.2109 30.5908 29.2087 30.1767 29.9441 29.4403C30.6794 28.7039 31.0922 27.7055 31.0914 26.6648C31.0907 25.6241 30.6766 24.6263 29.9401 23.8909L18.5041 12.4588Z"
                fill={color}
              />
            </svg>
            <Text fontSize={18} fontWeight="bolder" color={color} my="30px">
              {title}
            </Text>
            <HStack>
              <Button
                colorScheme="white"
                color={color}
                onClick={onClose}
                border="1px solid grey"
                w="150px"
              >
                Cancel
              </Button>

              <Button
                bg={color}
                color="white"
                transition={"0.2s ease"}
                _hover={{ bg: hColor }}
                mr={3}
                onClick={clickHandler}
                w="150px"
              >
                Confirm
              </Button>
            </HStack>
          </ModalBody>
        </ModalContent>
      </_Modal>
    </>
  );
};
